"use strict";(self.webpackChunknotebook=self.webpackChunknotebook||[]).push([[2877],{3780:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var a=t(4848),r=t(8453);const s={aliases:[],tags:[]},i="Column",o={id:"engineering/data/database/nosql/column",title:"Column",description:"A column-oriented database stores data in tables, organized by columns, whereas rdbms organize data in rows.",source:"@site/docs/engineering/data/database/nosql/column.md",sourceDirName:"engineering/data/database/nosql",slug:"/engineering/data/database/nosql/column",permalink:"/notebook/engineering/data/database/nosql/column",draft:!1,unlisted:!1,editUrl:"https://github.com/satche/notebook/tree/main/docs/engineering/data/database/nosql/column.md",tags:[],version:"current",lastUpdatedAt:1721721519e3,frontMatter:{aliases:[],tags:[]},sidebar:"engineeringSidebar",previous:{title:"NoSQL",permalink:"/notebook/engineering/data/database/nosql/"},next:{title:"Document",permalink:"/notebook/engineering/data/database/nosql/document"}},l={},c=[{value:"Column compression",id:"column-compression",level:2},{value:"run-length",id:"run-length",level:3},{value:"bit-vector",id:"bit-vector",level:3},{value:"dictionary",id:"dictionary",level:3},{value:"frame of reference",id:"frame-of-reference",level:3},{value:"differential",id:"differential",level:3}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"column",children:"Column"}),"\n",(0,a.jsxs)(n.p,{children:["A ",(0,a.jsx)(n.a,{href:"https://wikipedia.org/wiki/column-oriented_dbms",children:"column-oriented"})," database stores data in tables, organized by columns, whereas ",(0,a.jsx)(n.a,{href:"/notebook/engineering/data/database/rdbms",children:"rdbms"})," organize data in rows."]}),"\n",(0,a.jsx)(n.p,{children:"It cas manage large dataset and access it fast. It allows complex analytic calculus but is effective when data has the same type."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:"Usages: CMS, blogs, counters, expiring usage, etc."})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsxs)(n.em,{children:["Examples: ",(0,a.jsx)(n.a,{href:"https://wikipedia.org/wiki/apache_cassandra",children:"Cassandra"}),", ",(0,a.jsx)(n.a,{href:"https://wikipedia.org/wiki/apache_hbase",children:"Hbase"}),", ",(0,a.jsx)(n.a,{href:"https://wikipedia.org/wiki/bigtable",children:"BigTable"}),", ",(0,a.jsx)(n.a,{href:"https://fr.wikipedia.org/wiki/apache_parquet",children:"Parquet"})]})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Pros"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Only attributes that are needed are read from disk"}),"\n",(0,a.jsx)(n.li,{children:"Adding new column is easy"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Cons"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Combining values from multiple column is costly (",(0,a.jsx)(n.a,{href:"/notebook/code/glossary/tuple",children:"tuple"})," reconstruction)"]}),"\n",(0,a.jsx)(n.li,{children:"Inserting a new tuple is costly"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"column-compression",children:"Column compression"}),"\n",(0,a.jsx)(n.p,{children:"When there are repeated values, we can encode the column to reduce dataset size and speed up requests."}),"\n",(0,a.jsx)(n.p,{children:"Sometimes, we don\u2019t have to decode the column to answer the request e.g, sum the values to count number of elements."}),"\n",(0,a.jsx)(n.h3,{id:"run-length",children:"run-length"}),"\n",(0,a.jsx)(n.p,{children:"Count number of repetitions\nFormat: value, start row, run-length"}),"\n",(0,a.jsx)(n.h3,{id:"bit-vector",children:"bit-vector"}),"\n",(0,a.jsx)(n.p,{children:"For each value in column, create bit vector (one bit / row).\nGood for few distinct values."}),"\n",(0,a.jsx)(n.h3,{id:"dictionary",children:"dictionary"}),"\n",(0,a.jsx)(n.p,{children:"Replace values by shorter placeholders.\nMaintain dictionary to map placeholders back."}),"\n",(0,a.jsx)(n.h3,{id:"frame-of-reference",children:"frame of reference"}),"\n",(0,a.jsxs)(n.p,{children:["Choose median value as a reference.\nStore off-set for following values.\nUse ",(0,a.jsx)(n.code,{children:"#"})," marker for \u201cbig offsets values\u201d exceptions."]}),"\n",(0,a.jsx)(n.h3,{id:"differential",children:"differential"}),"\n",(0,a.jsx)(n.p,{children:"Like frame of reference, but we store the difference with the preceding row instead of the reference."}),"\n",(0,a.jsxs)(n.p,{children:["We can also use ",(0,a.jsx)(n.code,{children:"#"})," marker for big offsets values."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>o});var a=t(6540);const r={},s=a.createContext(r);function i(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);